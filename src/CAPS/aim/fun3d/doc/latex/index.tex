\hypertarget{index_overviewFUN3D}{}\doxysubsection{FUN3\+D AIM Overview}\label{index_overviewFUN3D}
A module in the Computational Aircraft Prototype Syntheses (CAPS) has been developed to interact (primarily through input files) with NASA La\+RC\textquotesingle{}s unstructured flow solver FUN3D \cite{FUN3D}. FUN3D is a parallelized flow analysis and design suite capable of addressing a wide variety of complex aerodynamic configurations by utilizing a mixed-\/element, node-\/based, finite volume discretization. The suite can simulate perfect gas (both incompressible and compressible), as well as multi-\/species equilibrium and non-\/equilibrium flows. Turbulence effects may be represented through a wide variety of models. Currently only a subset of FUN3D\textquotesingle{}s input options have been exposed in the analysis interface module (AIM), but features can easily be included as future needs arise.

Current issues include\+:
\begin{DoxyItemize}
\item Not all parameters/variables in fun3d.\+nml are currently available.
\end{DoxyItemize}

An outline of the AIM\textquotesingle{}s inputs and outputs are provided in \mbox{\hyperlink{aimInputsFUN3D}{AIM Inputs}} and \mbox{\hyperlink{aimOutputsFUN3D}{AIM Outputs}}, respectively.

Details on the use of units are outlined in \mbox{\hyperlink{aimUnitsFUN3D}{AIM Units}}.

Details of the AIM\textquotesingle{}s automated data transfer capabilities are outlined in \mbox{\hyperlink{dataTransferFUN3D}{FUN3D Data Transfer}}\hypertarget{index_fun3dNML}{}\doxysubsection{Generating fun3d.\+nml}\label{index_fun3dNML}
FUN3D\textquotesingle{}s primarily input file is a master FORTRAN namelist, fun3d.\+nml. To generate a bare-\/bones fun3d.\+nml file based on the variables set in \mbox{\hyperlink{aimInputsFUN3D}{AIM Inputs}}, nothing else besides the AIM needs to be provided. Since this will create a new fun3d.\+nml file every time the AIM is executed it is essential to set the {\itshape Overwrite\+\_\+\+NML} input variable to \char`\"{}\+True\char`\"{}. This gives the user ample warning that their fun3d.\+nml (if it exists) will be over written.

Conversely, to read and append an existing namelist file the user needs Python installed so that the AIM may be complied against the Python API library (and header file -\/ Python.\+h). The AIM interacts with Python through a Cython linked script that utilizes the \char`\"{}f90nml\char`\"{} Python module; note, having Cython installed is not required. On systems with \char`\"{}pip\char`\"{} installed typing \char`\"{}pip install f90nml\char`\"{}, will download and install the \char`\"{}f90nml\char`\"{} module.

The Cython script will first try to read an existing fun3d.\+nml file in the specified analysis directory; if the file does not exist one will be created. Only modified input variables that have been specified as AIM inputs (currently supported variables are outlined in \mbox{\hyperlink{aimInputsFUN3D}{AIM Inputs}}) are updated in the namelist file.\hypertarget{index_fun3dMorp}{}\doxysubsection{Morphing the surface mesh}\label{index_fun3dMorp}
FUN3D has the ability to deform the volume mesh around an updated surface mesh (nodal numbering and count must remain the same). The AIM can make use of this capability to reuse an existing volume mesh after geometric changes have been made. The {\itshape Mesh\+\_\+\+Morph} input variable (outlined in \mbox{\hyperlink{aimInputsFUN3D}{AIM Inputs}}) is the key switch to toggle this capability. If {\itshape Mesh\+\_\+\+Morph} is set to True and a {\itshape Mesh} (volumetric only) is linked to the AIM, the AIM will make a copy of the mesh as opposed to just a symbolic link. Upon \char`\"{}un-\/linking\char`\"{} the {\itshape Mesh}, the AIM will project the original (or last linked) surface mesh onto any new geometry perturbations on additional invocations of the AIM; given the new geometry is topologically equivalent. This projected, updated surface mesh is written to a file(s) of form {\itshape Proj\+\_\+\+Name}\+\_\+body\#.dat.

To invoke the volumetric deformation, FUN3D must be called with the {\itshape -\/-\/read\+\_\+surface\+\_\+from\+\_\+file} command line argument. Additionally if one plans to run FUN3D\textquotesingle{}s adjoint solver, the {\itshape  -\/-\/write\+\_\+mesh Proj\+\_\+\+Name} argument should also be added to the flow solver execution. This will cause the flow solver to write out the updated deformed volume mesh; without this step the adjoint solver will use the unperturbed/undeformed volume mesh.\hypertarget{index_fun3dExample}{}\doxysubsection{Examples}\label{index_fun3dExample}
An example problem using the FUN3D AIM (coupled with a meshing AIM -\/ Tet\+Gen) may be found at \mbox{\hyperlink{fun3dTetgenExample}{FUN3D AIM Example}}.\hypertarget{index_clearanceFUN3D}{}\doxysubsection{Clearance Statement}\label{index_clearanceFUN3D}
This software has been cleared for public release on 05 Nov 2020, case number 88ABW-\/2020-\/3462. 