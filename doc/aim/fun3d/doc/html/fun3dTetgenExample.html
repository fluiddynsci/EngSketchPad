<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FUN3D Analysis Interface Module (AIM): FUN3D AIM Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FUN3D Analysis Interface Module (AIM)
   </div>
   <div id="projectbrief">FUN3D Analysis Interface Module (AIM)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FUN3D AIM Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#fun3daimPrereq">Prerequisites</a><ul><li class="level2"><a href="#fun3dReqfiles">Script files</a></li>
</ul>
</li>
<li class="level1"><a href="#createGeom">Creating Geometry using ESP</a></li>
<li class="level1"><a href="#fun3dPyCAPS">Performing analysis using pyCAPS</a></li>
<li class="level1"><a href="#runfun3dTetgenExample">Executing pyCAPS script</a></li>
</ul>
</div>
<div class="textblock"><p>This is a walkthrough for using FUN3D AIM to analyze a three-dimensional two-wing configuration.</p>
<h1><a class="anchor" id="fun3daimPrereq"></a>
Prerequisites</h1>
<p>It is presumed that ESP and CAPS have been already installed, as well as FUN3D. In this example the open-source, tetrahedral mesh generator, TetGen, is coupled to the FUN3D AIM to provide a volumetric mesh.</p>
<h2><a class="anchor" id="fun3dReqfiles"></a>
Script files</h2>
<p>Two scripts are used for this illustration:</p><ol type="1">
<li>cfdMultiBody.csm: Creates geometry, as described in following section.</li>
<li>fun3d_and_Tetgen_PyTest.py: pyCAPS script for performing analysis, as described in <a class="el" href="fun3dTetgenExample.html#fun3dPyCAPS">Performing analysis using pyCAPS</a>.</li>
</ol>
<h1><a class="anchor" id="createGeom"></a>
Creating Geometry using ESP</h1>
<p>The CSM script generates Bodies which are designed to be used by specific AIMs. The AIMs that the Body is designed for is communicated to the CAPS framework via the “capsAIM” string attribute. This is a semicolon-separated string with the list of AIM names. Thus, the CSM author can give a clear indication to which AIMs should use the Body. In this example, the list contains the list of mesh generators and CFD solvers that can consume the body: </p><div class="fragment"><div class="line">ATTRIBUTE capsAIM $fun3dAIM;su2AIM;egadsTessAIM;aflr4AIM;pointwiseAIM;tetgenAIM;aflr3AIM #CFD Analysis</div></div><!-- fragment --><p> A typical geometry model can be created and interactively modified using design parameters. These design parameters are either design- or geometry- based. In this example, a two wing configuration is created using following design parameters, </p><div class="fragment"><div class="line">DESPMTR   area         40.00000</div><div class="line">DESPMTR   aspect       5.00000</div><div class="line">DESPMTR   taper        0.50000</div><div class="line">DESPMTR   twist        15.00000</div><div class="line">DESPMTR   lesweep      30.00000</div><div class="line">DESPMTR   dihedral     1.00000</div></div><!-- fragment --><p>as well as the following configuration paramters. Configuration quantities cannot be used with sensitivities. </p><div class="fragment"><div class="line">CFGPMTR   series            8412</div><div class="line">CFGPMTR   series2           0020</div><div class="line">CFGPMTR   sharpte           0</div></div><!-- fragment --><p> Next, internal CAPS reference attributes are set. </p><div class="fragment"><div class="line"># Set reference values</div><div class="line">ATTRIBUTE capsReferenceArea     area</div><div class="line">ATTRIBUTE capsReferenceChord    sqrt(area/aspect)</div><div class="line">ATTRIBUTE capsReferenceSpan     sqrt(area/aspect)*aspect</div></div><!-- fragment --><p> After our design parameters are defined they are used to setup other local variables (analytically) for the wing. </p><div class="fragment"><div class="line">SET       cmean     sqrt(area/aspect)</div><div class="line">SET       span      cmean*aspect</div><div class="line">SET       sspan     span/2</div><div class="line">SET       croot     2*cmean/(1+taper)</div><div class="line">SET       ctip      croot*taper</div><div class="line">SET       xtip      sspan*tand(lesweep)</div><div class="line">SET       ytip      sspan*tand(dihedral)</div><div class="line">SET       ybot      -0.1*croot</div><div class="line">SET       ytop      +0.2*croot+ytip</div><div class="line">SET       extend    0.02*cmean</div></div><!-- fragment --><p> Once all design and locale variables are defined, a half span, solid model is created by "ruling" together NACA series airfoils (following a series of scales, rotations, and translations). </p><div class="fragment"><div class="line">MARK</div><div class="line">   UDPRIM    naca   Series   series    sharpte sharpte</div><div class="line">      SCALE     croot </div><div class="line">   UDPRIM    naca   Series   series2   sharpte sharpte</div><div class="line">      SCALE     ctip</div><div class="line">      ROTATEZ   -twist   0   0</div><div class="line">      TRANSLATE xtip   ytip   -sspan</div><div class="line">RULE</div></div><!-- fragment --><p> A full span model is then created by mirroring and joining the half-span model. </p><div class="fragment"><div class="line"># Store half of wing and keep a copy on the stack</div><div class="line">STORE     HalfWing 0 1</div><div class="line"></div><div class="line"># Restore and mirror the half wing</div><div class="line">RESTORE   HalfWing 0</div><div class="line">    MIRROR    0   0   1   0</div></div><!-- fragment --><div class="fragment"><div class="line"># Combine halfs into a whole</div><div class="line">JOIN     0</div></div><!-- fragment --><p> Once the desired model obtained it needs to be rotated so that it is in the expected aero-coordinated system (y- out the right wing, x- in the flow direction, and +z- up). </p><div class="fragment"><div class="line"># Get body into a typical aero-system </div><div class="line">ROTATEX 90 0 0</div></div><!-- fragment --><p> Next, an attribute is then placed in the geometry so that the geometry components may be reference by the FUN3D AIM. </p><div class="fragment"><div class="line"># Store the wing </div><div class="line">STORE     Wing 0 0</div><div class="line"></div><div class="line"># Wing 1 - Restore</div><div class="line">RESTORE   Wing 0</div><div class="line">    ATTRIBUTE capsGroup $Wing1</div><div class="line">    ATTRIBUTE _name $Wing1</div><div class="line">    ATTRIBUTE AFLR4_Cmp_ID 1</div><div class="line">    ATTRIBUTE AFLR4_Edge_Refinement_Weight 1</div></div><!-- fragment --><p> Following the completion of the first wing, a second wing is created and scaled using the store/restore operations. </p><div class="fragment"><div class="line"># Wing 2 -  Restore and scale, translate</div><div class="line">RESTORE   Wing 0</div><div class="line">    ATTRIBUTE capsGroup         $Wing2</div><div class="line">    ATTRIBUTE _name             $Wing2</div><div class="line">    ATTRIBUTE AFLR4_Scale_Factor 10</div><div class="line">    ATTRIBUTE AFLR4_Cmp_ID       2</div><div class="line"></div><div class="line">    SCALE     0.4</div><div class="line">    TRANSLATE 10   0   0</div></div><!-- fragment --><p> Finally, for three-dimensional CFD analysis with the FUN3D AIM a "farfield" or "bounding box" boundary needs to be provided. In this example, a simple sphere is created and tagged as a farfield boundary using the capsGroup attribute. </p><div class="fragment"><div class="line">SPHERE    0   0   0   80</div><div class="line">    ATTRIBUTE capsGroup   $Farfield</div><div class="line">    ATTRIBUTE _name       $Farfield</div><div class="line">    ATTRIBUTE AFLR_GBC    $FARFIELD_UG3_GBC</div><div class="line">    ATTRIBUTE AFLR4_Cmp_ID 3</div><div class="line">    ATTRIBUTE capsMeshLength  cmean #Charachteristic length for meshing</div></div><!-- fragment --> <h1><a class="anchor" id="fun3dPyCAPS"></a>
Performing analysis using pyCAPS</h1>
<p>The first step in the pyCAPS script is to import the required modules. For this example, the following modules are used, </p><div class="fragment"><div class="line">from __future__ <span class="keyword">import</span> print_function</div><div class="line"></div><div class="line"><span class="keyword">import</span> os</div></div><!-- fragment --><p> In order to create a new capsProblem the pyCAPS module also needs to be imported; on Linux and OSX this is the pyCAPS.so file, while on Windows it is the pyCAPS.pyd file. For convenience, it is recommended that the path to this file is added to the environmental variable PYTHONPATH.</p>
<div class="fragment"><div class="line"><span class="keyword">from</span> pyCAPS <span class="keyword">import</span> capsProblem</div></div><!-- fragment --><p> Similarly, local variables used throughout the script may be defined. </p><div class="fragment"><div class="line">workDir = os.path.join(str(args.workDir[0]), <span class="stringliteral">&quot;FUN3DTetgenAnalysisTest&quot;</span>)</div></div><!-- fragment --><p> Once the required modules have been loaded, a capsProblem can be instantiated. </p><div class="fragment"><div class="line">myProblem = capsProblem()</div></div><!-- fragment --><p> Using the loadCAPS() function, the desired geometry file is then loaded into the problem. </p><div class="fragment"><div class="line">geometryScript = os.path.join(<span class="stringliteral">&quot;..&quot;</span>,<span class="stringliteral">&quot;csmData&quot;</span>,<span class="stringliteral">&quot;cfdMultiBody.csm&quot;</span>)</div><div class="line">myGeometry = myProblem.loadCAPS(geometryScript, verbosity=args.verbosity)</div></div><!-- fragment --><p> Any design parameters available in *.csm file are also available within the pyCAPS script. The following snippet changes the despmtr "area" which will force a rebuild of the geometry that FUN3D will now use. </p><div class="fragment"><div class="line">myGeometry.setGeometryVal(<span class="stringliteral">&quot;area&quot;</span>, 50)</div></div><!-- fragment --><p> A typical high-fidelity CFD analysis requires meshing AIMs to be coupled to the analysis AIM (unless a mesh already exists).For surface meshing, the face tessellation from the ESP geometry can be directly used as the surface mesh. If the face tessellation is not satisfactory, a surface meshing AIM may be coupled to the volume meshing AIM. In this example, the face tessellation is used as the surface mesh and TetGen for volumetric mesh generation. The TetGen AIM in loaded using the following </p><div class="fragment"><div class="line">meshAIM = myProblem.loadAIM(aim = <span class="stringliteral">&quot;tetgenAIM&quot;</span>,</div><div class="line">                            analysisDir = workDir)</div></div><!-- fragment --><p> Once loaded, the appropriate inputs to the mesh generator required to generate mesh with adequate mesh quality are set. Refer TetGen AIM documentation for the list of all the available options. </p><div class="fragment"><div class="line"><span class="comment"># Set new EGADS body tessellation parameters</span></div><div class="line">meshAIM.setAnalysisVal(<span class="stringliteral">&quot;Tess_Params&quot;</span>, [.05, 0.01, 20.0])</div><div class="line"></div><div class="line"><span class="comment"># Preserve surface mesh while meshing</span></div><div class="line">meshAIM.setAnalysisVal(<span class="stringliteral">&quot;Preserve_Surf_Mesh&quot;</span>, <span class="keyword">True</span>)</div></div><!-- fragment --><p> After options are set aimPreAnalysis needs to be executed. For example, </p><div class="fragment"><div class="line">meshAIM.preAnalysis()</div></div><!-- fragment --><p> In the case of the TetGen AIM, TetGen was already ran during preAnalysis. To make the volumetric mesh available to other AIMs, aimPostAnalysis just needs to be additionally implemented. </p><div class="fragment"><div class="line">meshAIM.postAnalysis()</div></div><!-- fragment --><p> Next the FUN3D AIM needs to be loaded. In this example, the previously loaded TetGen AIM is linked as a parent. This allows the volume mesh generated by the TetGen AIM to be inherited (see <a class="el" href="sharableDataFUN3D.html">AIM Shareable Data</a>) by the FUN3D AIM, in which case FUN3D will write out the mesh in its preferred, native format.</p>
<div class="fragment"><div class="line"><span class="comment"># Load FUN3D aim - child of Tetgen AIM</span></div><div class="line">fun3dAIM = myProblem.loadAIM(aim = <span class="stringliteral">&quot;fun3dAIM&quot;</span>,</div><div class="line">                             altName = <span class="stringliteral">&quot;fun3d&quot;</span>,</div><div class="line">                             analysisDir = workDir, parents = meshAIM.aimName)</div></div><!-- fragment --><p> Once loaded analysis parameters specific to FUN3D need to be set (see <a class="el" href="aimInputsFUN3D.html">AIM Inputs</a>). These parameters are automatically converted into FUN3D specific format and transferred into the FUN3D configuration file. One will note in the following snippet the instance of the AIM is referenced in two different manners: 1. Using the returned object from load call and 2. Using the "altName" name reference in the analysis dictionary. While syntactically different, these two forms are essentially identical.</p>
<div class="fragment"><div class="line"><span class="comment"># Set project name</span></div><div class="line">fun3dAIM.setAnalysisVal(<span class="stringliteral">&quot;Proj_Name&quot;</span>, <span class="stringliteral">&quot;fun3dTetgenTest&quot;</span>)</div><div class="line"></div><div class="line">fun3dAIM.setAnalysisVal(<span class="stringliteral">&quot;Mesh_ASCII_Flag&quot;</span>, <span class="keyword">False</span>)</div><div class="line"></div><div class="line"><span class="comment"># Set AoA number</span></div><div class="line">myProblem.analysis[<span class="stringliteral">&quot;fun3d&quot;</span>].setAnalysisVal(<span class="stringliteral">&quot;Alpha&quot;</span>, 1.0)</div><div class="line"></div><div class="line"><span class="comment"># Set Mach number</span></div><div class="line">myProblem.analysis[<span class="stringliteral">&quot;fun3d&quot;</span>].setAnalysisVal(<span class="stringliteral">&quot;Mach&quot;</span>, 0.5901)</div><div class="line"></div><div class="line"><span class="comment"># Set equation type</span></div><div class="line">fun3dAIM.setAnalysisVal(<span class="stringliteral">&quot;Equation_Type&quot;</span>,<span class="stringliteral">&quot;compressible&quot;</span>)</div><div class="line"></div><div class="line"><span class="comment"># Set Viscous term</span></div><div class="line">myProblem.analysis[<span class="stringliteral">&quot;fun3d&quot;</span>].setAnalysisVal(<span class="stringliteral">&quot;Viscous&quot;</span>, <span class="stringliteral">&quot;inviscid&quot;</span>)</div><div class="line"></div><div class="line"><span class="comment"># Set number of iterations</span></div><div class="line">myProblem.analysis[<span class="stringliteral">&quot;fun3d&quot;</span>].setAnalysisVal(<span class="stringliteral">&quot;Num_Iter&quot;</span>,10)</div><div class="line"></div><div class="line"><span class="comment"># Set CFL number schedule</span></div><div class="line">myProblem.analysis[<span class="stringliteral">&quot;fun3d&quot;</span>].setAnalysisVal(<span class="stringliteral">&quot;CFL_Schedule&quot;</span>,[0.5, 3.0])</div><div class="line"></div><div class="line"><span class="comment"># Set read restart option</span></div><div class="line">fun3dAIM.setAnalysisVal(<span class="stringliteral">&quot;Restart_Read&quot;</span>,<span class="stringliteral">&quot;off&quot;</span>)</div><div class="line"></div><div class="line"><span class="comment"># Set CFL number iteration schedule</span></div><div class="line">myProblem.analysis[<span class="stringliteral">&quot;fun3d&quot;</span>].setAnalysisVal(<span class="stringliteral">&quot;CFL_Schedule_Iter&quot;</span>, [1, 40])</div><div class="line"></div><div class="line"><span class="comment"># Set overwrite fun3d.nml if not linking to Python library</span></div><div class="line">myProblem.analysis[<span class="stringliteral">&quot;fun3d&quot;</span>].setAnalysisVal(<span class="stringliteral">&quot;Overwrite_NML&quot;</span>, <span class="keyword">True</span>)</div><div class="line"></div></div><!-- fragment --><p> Along the same lines of setting the other input values the "Boundary_Condition" tuple is used to set the boundary conditions (<a class="el" href="cfdBoundaryConditions.html">CFD Boundary Conditions</a>). These boundary tags (which reference capsGroup attributes in the *.csm file) and associated boundary conditions are converted into FUN3D specific boundary conditions and set in the FUN3D configuration file. </p><div class="fragment"><div class="line">inviscidBC1 = {<span class="stringliteral">&quot;bcType&quot;</span> : <span class="stringliteral">&quot;Inviscid&quot;</span>, <span class="stringliteral">&quot;wallTemperature&quot;</span> : 1}</div><div class="line">inviscidBC2 = {<span class="stringliteral">&quot;bcType&quot;</span> : <span class="stringliteral">&quot;Inviscid&quot;</span>, <span class="stringliteral">&quot;wallTemperature&quot;</span> : 1.2}</div><div class="line">fun3dAIM.setAnalysisVal(<span class="stringliteral">&quot;Boundary_Condition&quot;</span>, [(<span class="stringliteral">&quot;Wing1&quot;</span>, inviscidBC1),</div><div class="line">                                               (<span class="stringliteral">&quot;Wing2&quot;</span>, inviscidBC2),</div><div class="line">                                               (<span class="stringliteral">&quot;Farfield&quot;</span>,<span class="stringliteral">&quot;farfield&quot;</span>)])</div></div><!-- fragment --><p> Again, after all desired options are set aimPreAnalysis needs to be executed. </p><div class="fragment"><div class="line">fun3dAIM.preAnalysis()</div></div><!-- fragment --><p> At this point the required files necessary run FUN3D should have be created and placed in the specified analysis working directory. Next FUN3D needs to executed either through its Python interface module (not shown) or an OS system call such as,</p>
<div class="fragment"><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;\n\nRunning FUN3D......&quot;</span>)</div><div class="line">currentDirectory = os.getcwd() <span class="comment"># Get our current working directory</span></div><div class="line"></div><div class="line">os.chdir(fun3dAIM.analysisDir) <span class="comment"># Move into test directory</span></div><div class="line"></div><div class="line">os.system(<span class="stringliteral">&quot;nodet_mpi --animation_freq -1 --write_aero_loads_to_file&gt; Info.out&quot;</span>); <span class="comment"># Run fun3d via system call</span></div><div class="line"></div><div class="line">os.chdir(currentDirectory) <span class="comment"># Move back to top directory</span></div></div><!-- fragment --><p>After FUN3D is finished running aimPostAnalysis needs to be executed. </p><div class="fragment"><div class="line">fun3dAIM.postAnalysis()</div></div><!-- fragment --><p> Finally, available AIM outputs (see <a class="el" href="aimOutputsFUN3D.html">AIM Outputs</a>) may be retrieved, for example: </p><div class="fragment"><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Total Force - Pressure + Viscous&quot;</span>)</div><div class="line"><span class="comment"># Get Lift and Drag coefficients</span></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Cl = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CLtot&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cd = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CDtot&quot;</span>))</div><div class="line"></div><div class="line"><span class="comment"># Get Cmx, Cmy, and Cmz coefficients</span></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Cmx = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CMXtot&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cmy = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CMYtot&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cmz = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CMZtot&quot;</span>))</div><div class="line"></div><div class="line"><span class="comment"># Get Cx, Cy, Cz coefficients</span></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Cx = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CXtot&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cy = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CYtot&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cz = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CZtot&quot;</span>))</div><div class="line"></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Pressure Contribution&quot;</span>)</div><div class="line"><span class="comment"># Get Lift and Drag coefficients</span></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Cl_p = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CLtot_p&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cd_p = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CDtot_p&quot;</span>))</div><div class="line"></div><div class="line"><span class="comment"># Get Cmx, Cmy, and Cmz coefficients</span></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Cmx_p = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CMXtot_p&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cmy_p = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CMYtot_p&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cmz_p = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CMZtot_p&quot;</span>))</div><div class="line"></div><div class="line"><span class="comment"># Get Cx, Cy, and Cz, coefficients</span></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Cx_p = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CXtot_p&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cy_p = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CYtot_p&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cz_p = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CZtot_p&quot;</span>))</div><div class="line"></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Viscous Contribution&quot;</span>)</div><div class="line"><span class="comment"># Get Lift and Drag coefficients</span></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Cl_v = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CLtot_v&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cd_v = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CDtot_v&quot;</span>))</div><div class="line"></div><div class="line"><span class="comment"># Get Cmx, Cmy, and Cmz coefficients</span></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Cmx_v = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CMXtot_v&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cmy_v = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CMYtot_v&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cmz_v = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CMZtot_v&quot;</span>))</div><div class="line"></div><div class="line"><span class="comment"># Get Cx, Cy, and Cz, coefficients</span></div><div class="line"><span class="keywordflow">print</span> (<span class="stringliteral">&quot;Cx_v = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CXtot_v&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cy_v = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CYtot_v&quot;</span>),</div><div class="line">       <span class="stringliteral">&quot;Cz_v = &quot;</span> , fun3dAIM.getAnalysisOutVal(<span class="stringliteral">&quot;CZtot_v&quot;</span>))</div></div><!-- fragment --><p> results in,</p>
<div class="fragment"><div class="line">Total Force - Pressure + Viscous</div><div class="line">Cl =  0.671595 Cd =  0.517818</div><div class="line">Cmx =  -0.002830832 Cmy =  -1.342669 Cmz =  -0.0020397</div><div class="line">Cx =  0.5060182 Cy =  -0.004986118 Cz =  0.6805299</div><div class="line">Pressure Contribution</div><div class="line">Cl_p =  0.671595 Cd_p =  0.517818</div><div class="line">Cmx_p =  -0.002830832 Cmy_p =  -1.342669 Cmz_p =  -0.0020397</div><div class="line">Cx_p =  0.5060182 Cy_p =  -0.004986118 Cz_p =  0.6805299</div><div class="line">Viscous Contribution</div><div class="line">Cl_v =  0.0 Cd_v =  0.0</div><div class="line">Cmx_v =  0.0 Cmy_v =  0.0 Cmz_v =  0.0</div><div class="line">Cx_v =  0.0 Cy_v =  0.0 Cz_v =  0.0</div></div><!-- fragment --><p>When finally finished with the script, the open CAPS problem should be closed. </p><div class="fragment"><div class="line">myProblem.closeCAPS()</div></div><!-- fragment --> <h1><a class="anchor" id="runfun3dTetgenExample"></a>
Executing pyCAPS script</h1>
<p>Issuing the following command executes the script:</p>
<div class="fragment"><div class="line">python fun3d_and_Tetgen_PyTest.py</div></div><!-- fragment --><p>Below are representative result images generated by the above script: </p><div class="image">
<img src="FUN3D_Ex1.png" alt="FUN3D_Ex1.png" width="500px"/>
<div class="caption">
FUN3D coupled to TetGen example</div></div>
  </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 28 2020 06:21:23 for FUN3D Analysis Interface Module (AIM) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
