# gougedCylinder
# written by John Dannenhoffer

dimension  dds_spec 3 4 1
despmtr    dds_spec "1; 28; 3; 0.5; \
                     1; 28; 4; 0.3; \
                     1; 28; 5; 0.5"

# gouge profile z(u,v)
udprim freeform filename <<
   11   11    1
   0.00000   0.00000   0.00000
   0.10000   0.00000   0.00000
   0.20000   0.00000   0.00000
   0.30000   0.00000   0.00000
   0.40000   0.00000   0.00000
   0.50000   0.00000   0.00000
   0.60000   0.00000   0.00000
   0.70000   0.00000   0.00000
   0.80000   0.00000   0.00000
   0.90000   0.00000   0.00000
   1.00000   0.00000   0.00000

   0.00000   0.10000   0.00000
   0.10000   0.10000   0.00000
   0.20000   0.10000   0.00000
   0.30000   0.10000   0.00000
   0.40000   0.10000   0.00000
   0.50000   0.10000   0.00000
   0.60000   0.10000   0.00000
   0.70000   0.10000   0.00000
   0.80000   0.10000   0.00000
   0.90000   0.10000   0.00000
   1.00000   0.10000   0.00000

   0.00000   0.20000   0.00000
   0.10000   0.20000   0.00000
   0.20000   0.20000   0.00000
   0.30000   0.20000   0.00000
   0.40000   0.20000   0.00000
   0.50000   0.20000   0.00000
   0.60000   0.20000   0.00000
   0.70000   0.20000   0.00000
   0.80000   0.20000   0.00000
   0.90000   0.20000   0.00000
   1.00000   0.20000   0.00000

   0.00000   0.30000   0.00000
   0.10000   0.30000  -0.02500
   0.20000   0.30000  -0.05000
   0.30000   0.30000  -0.10000
   0.40000   0.30000  -0.15000
   0.50000   0.30000  -0.17500
   0.60000   0.30000  -0.18250
   0.70000   0.30000  -0.20000
   0.80000   0.30000  -0.15000
   0.90000   0.30000   0.00000
   1.00000   0.30000   0.00000

   0.00000   0.40000   0.00000
   0.10000   0.40000  -0.05000
   0.20000   0.40000  -0.10000
   0.30000   0.40000  -0.20000
   0.40000   0.40000  -0.30000
   0.50000   0.40000  -0.35000
   0.60000   0.40000  -0.37500
   0.70000   0.40000  -0.40000
   0.80000   0.40000  -0.30000
   0.90000   0.40000   0.00000
   1.00000   0.40000   0.00000

   0.00000   0.50000   0.00000
   0.10000   0.50000  -0.05000
   0.20000   0.50000  -0.10000
   0.30000   0.50000  -0.20000
   0.40000   0.50000  -0.30000
   0.50000   0.50000  -0.35000
   0.60000   0.50000  -0.37500
   0.70000   0.50000  -0.40000
   0.80000   0.50000  -0.30000
   0.90000   0.50000   0.00000
   1.00000   0.50000   0.00000

   0.00000   0.60000   0.00000
   0.10000   0.60000  -0.05000
   0.20000   0.60000  -0.10000
   0.30000   0.60000  -0.20000
   0.40000   0.60000  -0.30000
   0.50000   0.60000  -0.35000
   0.60000   0.60000  -0.37500
   0.70000   0.60000  -0.40000
   0.80000   0.60000  -0.30000
   0.90000   0.60000   0.00000
   1.00000   0.60000   0.00000

   0.00000   0.70000   0.00000
   0.10000   0.70000  -0.02500
   0.20000   0.70000  -0.05000
   0.30000   0.70000  -0.10000
   0.40000   0.70000  -0.15000
   0.50000   0.70000  -0.17500
   0.60000   0.70000  -0.18250
   0.70000   0.70000  -0.20000
   0.80000   0.70000  -0.15000
   0.90000   0.70000   0.00000
   1.00000   0.70000   0.00000

   0.00000   0.80000   0.00000
   0.10000   0.80000   0.00000
   0.20000   0.80000   0.00000
   0.30000   0.80000   0.00000
   0.40000   0.80000   0.00000
   0.50000   0.80000   0.00000
   0.60000   0.80000   0.00000
   0.70000   0.80000   0.00000
   0.80000   0.80000   0.00000
   0.90000   0.80000   0.00000
   1.00000   0.80000   0.00000

   0.00000   0.90000   0.00000
   0.10000   0.90000   0.00000
   0.20000   0.90000   0.00000
   0.30000   0.90000   0.00000
   0.40000   0.90000   0.00000
   0.50000   0.90000   0.00000
   0.60000   0.90000   0.00000
   0.70000   0.90000   0.00000
   0.80000   0.90000   0.00000
   0.90000   0.90000   0.00000
   1.00000   0.90000   0.00000

   0.00000   1.00000   0.00000
   0.10000   1.00000   0.00000
   0.20000   1.00000   0.00000
   0.30000   1.00000   0.00000
   0.40000   1.00000   0.00000
   0.50000   1.00000   0.00000
   0.60000   1.00000   0.00000
   0.70000   1.00000   0.00000
   0.80000   1.00000   0.00000
   0.90000   1.00000   0.00000
   1.00000   1.00000   0.00000
>>
store gouge

# cylinder
cylinder  1  0  0  1  2  0  1
rotatey  90  0  1

# first gouge
skbeg     0.4  0.4  0.5
   linseg 1.4  0.4  0.5
   linseg 1.4  0.8  0.5
   linseg 0.4  0.8  0.5
   linseg 0.4  0.4  0.5
skend 1
extrude   0    0    1
subtract
project 0.9  0.6  0.5  0.0  0.0  1.0
select  face @iface
   attribute patch $gouge1

# second gouge
skbeg     0.6  1.0  0.5
   linseg 1.6  1.0  0.5
   linseg 1.6  1.2  0.5
   linseg 0.6  1.2  0.5
   linseg 0.6  1.0  0.5
skend 1
extrude   0    0    1
subtract
project 1.1  1.1  0.5  0.0  0.0  1.0
select  face @iface
   attribute patch $gouge2

# third gouge
skbeg     0.4  1.4  0.5
   linseg 1.4  1.4  0.5
   linseg 1.4  1.8  0.5
   linseg 0.4  1.8  0.5
   linseg 0.4  1.4  0.5
skend 1
extrude   0    0    1
subtract
project 0.9  0.6  0.5  0.0  0.0  1.0
select  face @iface
   attribute patch $gouge1

# set fine tessellation in gouges
udprim editAttr  attrname $patch input $F output $E
select  edge $patch $*
   attribute .tParams "0.02; 0.02; 15.0"

end
