# gougedBox
# written by John Dannenhoffer

dimension  dds_spec 2 4 1
despmtr    dds_spec "1; 19; 7; 0.1; \
                     1; 19; 8; 0.3"

# gouge profile z(u,v)
udprim freeform filename <<
   11   11    1

   0.00000   0.00000   0.00000
   0.10000   0.00000   0.00000
   0.20000   0.00000   0.00000
   0.30000   0.00000   0.00000
   0.40000   0.00000   0.00000
   0.50000   0.00000   0.00000
   0.60000   0.00000   0.00000
   0.70000   0.00000   0.00000
   0.80000   0.00000   0.00000
   0.90000   0.00000   0.00000
   1.00000   0.00000   0.00000

   0.00000   0.10000   0.00000
   0.10000   0.10000   0.00000
   0.20000   0.10000   0.00000
   0.30000   0.10000   0.00000
   0.40000   0.10000   0.00000
   0.50000   0.10000   0.00000
   0.60000   0.10000   0.00000
   0.70000   0.10000   0.00000
   0.80000   0.10000   0.00000
   0.90000   0.10000   0.00000
   1.00000   0.10000   0.00000

   0.00000   0.20000   0.00000
   0.10000   0.20000   0.00000
   0.20000   0.20000   0.00000
   0.30000   0.20000   0.00000
   0.40000   0.20000   0.00000
   0.50000   0.20000   0.00000
   0.60000   0.20000   0.00000
   0.70000   0.20000   0.00000
   0.80000   0.20000   0.00000
   0.90000   0.20000   0.00000
   1.00000   0.20000   0.00000

   0.00000   0.30000   0.00000
   0.10000   0.30000  -0.02500
   0.20000   0.30000  -0.05000
   0.30000   0.30000  -0.10000
   0.40000   0.30000  -0.15000
   0.50000   0.30000  -0.17500
   0.60000   0.30000  -0.18250
   0.70000   0.30000  -0.20000
   0.80000   0.30000  -0.15000
   0.90000   0.30000   0.00000
   1.00000   0.30000   0.00000

   0.00000   0.40000   0.00000
   0.10000   0.40000  -0.05000
   0.20000   0.40000  -0.10000
   0.30000   0.40000  -0.20000
   0.40000   0.40000  -0.30000
   0.50000   0.40000  -0.35000
   0.60000   0.40000  -0.37500
   0.70000   0.40000  -0.40000
   0.80000   0.40000  -0.30000
   0.90000   0.40000   0.00000
   1.00000   0.40000   0.00000

   0.00000   0.50000   0.00000
   0.10000   0.50000  -0.05000
   0.20000   0.50000  -0.10000
   0.30000   0.50000  -0.20000
   0.40000   0.50000  -0.30000
   0.50000   0.50000  -0.35000
   0.60000   0.50000  -0.37500
   0.70000   0.50000  -0.40000
   0.80000   0.50000  -0.30000
   0.90000   0.50000   0.00000
   1.00000   0.50000   0.00000

   0.00000   0.60000   0.00000
   0.10000   0.60000  -0.05000
   0.20000   0.60000  -0.10000
   0.30000   0.60000  -0.20000
   0.40000   0.60000  -0.30000
   0.50000   0.60000  -0.35000
   0.60000   0.60000  -0.37500
   0.70000   0.60000  -0.40000
   0.80000   0.60000  -0.30000
   0.90000   0.60000   0.00000
   1.00000   0.60000   0.00000

   0.00000   0.70000   0.00000
   0.10000   0.70000  -0.02500
   0.20000   0.70000  -0.05000
   0.30000   0.70000  -0.10000
   0.40000   0.70000  -0.15000
   0.50000   0.70000  -0.17500
   0.60000   0.70000  -0.18250
   0.70000   0.70000  -0.20000
   0.80000   0.70000  -0.15000
   0.90000   0.70000   0.00000
   1.00000   0.70000   0.00000

   0.00000   0.80000   0.00000
   0.10000   0.80000   0.00000
   0.20000   0.80000   0.00000
   0.30000   0.80000   0.00000
   0.40000   0.80000   0.00000
   0.50000   0.80000   0.00000
   0.60000   0.80000   0.00000
   0.70000   0.80000   0.00000
   0.80000   0.80000   0.00000
   0.90000   0.80000   0.00000
   1.00000   0.80000   0.00000

   0.00000   0.90000   0.00000
   0.10000   0.90000   0.00000
   0.20000   0.90000   0.00000
   0.30000   0.90000   0.00000
   0.40000   0.90000   0.00000
   0.50000   0.90000   0.00000
   0.60000   0.90000   0.00000
   0.70000   0.90000   0.00000
   0.80000   0.90000   0.00000
   0.90000   0.90000   0.00000
   1.00000   0.90000   0.00000

   0.00000   1.00000   0.00000
   0.10000   1.00000   0.00000
   0.20000   1.00000   0.00000
   0.30000   1.00000   0.00000
   0.40000   1.00000   0.00000
   0.50000   1.00000   0.00000
   0.60000   1.00000   0.00000
   0.70000   1.00000   0.00000
   0.80000   1.00000   0.00000
   0.90000   1.00000   0.00000
   1.00000   1.00000   0.00000
>>
store gouge

# box with rectanges on Zmax surface
box       0  0  0  2  2  1

# first gouge
skbeg     0.4  0.4  0.5
   linseg 1.4  0.4  0.5
   linseg 1.4  0.8  0.5
   linseg 0.4  0.8  0.5
   linseg 0.4  0.4  0.5
skend 1
extrude   0    0    1
subtract
project 0.9  0.6  0.5  0.0  0.0  1.0
select  face @iface
   attribute patch $gouge1

# second gouge
skbeg     0.4  1.0  0.5
   linseg 0.8  1.0  0.5
   linseg 0.8  1.6  0.5
   linseg 0.4  1.6  0.5
   linseg 0.4  1.0  0.5
skend 1
extrude   0    0    1
subtract
project 0.6  1.3  0.5  0.0  0.0  1.0
select  face @iface
   attribute patch $gouge2

# set fine tessellation in gouges
udprim editAttr  attrname $patch input $F output $E
select  edge $patch $*
   attribute .tParams "0.02; 0.02; 15.0"

end
